// Generated by @dweb-cloud/safenv - GenTsPlugin
// Config: comprehensive_test_workspace
// Validator Style: zod
// Export Mode: toml-file
// Generated at: 2025-08-11T15:31:34.690Z
// DO NOT EDIT - This file is auto-generated

import { string, number, boolean, array, object } from 'zod'
const z = { string, number, boolean, array, object }
import { readFileSync, existsSync } from 'node:fs'
import { resolve } from 'node:path'
import { parse as tomlParse } from '@iarna/toml'

/**
 * TypeScript interface for comprehensive_test_workspace environment variables
 */
export interface ComprehensiveTestWorkspaceVariables {
  /** 工作空间名称 */
  WORKSPACE_NAME: string
  /** 工作空间版本号 */
  WORKSPACE_VERSION?: string
  /** 运行环境 (development/production/test) */
  NODE_ENV: string
  /** 服务器主机地址 */
  SERVER_HOST?: string
  /** 服务器端口号 */
  SERVER_PORT?: number
  /** 主数据库连接字符串 */
  DATABASE_URL: string
  /** 数据库连接池最小连接数 */
  DATABASE_POOL_MIN?: number
  /** 数据库连接池最大连接数 */
  DATABASE_POOL_MAX?: number
  /** Redis连接字符串 */
  REDIS_URL?: string
  /** 默认缓存过期时间（秒） */
  CACHE_DEFAULT_TTL?: number
  /** 外部API基础URL */
  API_BASE_URL?: string
  /** 外部API密钥 */
  API_KEY: string
  /** API请求超时时间（毫秒） */
  API_TIMEOUT?: number
  /** API请求重试次数 */
  API_RETRY_COUNT?: number
  /** JWT签名密钥 */
  JWT_SECRET: string
  /** JWT过期时间 */
  JWT_EXPIRES_IN?: string
  /** BCrypt加密轮数 */
  BCRYPT_ROUNDS?: number
  /** 是否启用日志记录 */
  ENABLE_LOGGING?: boolean
  /** 是否启用指标收集 */
  ENABLE_METRICS?: boolean
  /** 是否启用链路追踪 */
  ENABLE_TRACING?: boolean
  /** 是否启用调试模式 */
  DEBUG_MODE?: boolean
  /** 启用的功能标志列表 */
  FEATURE_FLAGS?: string[]
  /** 日志级别 (debug/info/warn/error) */
  LOG_LEVEL?: string
  /** 日志格式 (json/text) */
  LOG_FORMAT?: string
  /** 日志文件最大保留数量 */
  LOG_MAX_FILES?: number
  /** 监控指标端口 */
  METRICS_PORT?: number
  /** 健康检查路径 */
  HEALTH_CHECK_PATH?: string
  /** CORS允许的源列表 */
  CORS_ORIGINS?: string[]
  /** CORS允许的HTTP方法 */
  CORS_METHODS?: string[]
  /** 速率限制窗口时间（毫秒） */
  RATE_LIMIT_WINDOW?: number
  /** 速率限制最大请求数 */
  RATE_LIMIT_MAX?: number
  /** 文件上传最大大小（字节）50MB */
  UPLOAD_MAX_SIZE?: number
  /** 允许上传的文件类型 */
  UPLOAD_ALLOWED_TYPES?: string[]
  /** SMTP服务器地址 */
  SMTP_HOST?: string
  /** SMTP服务器端口 */
  SMTP_PORT?: number
  /** SMTP用户名 */
  SMTP_USER?: string
  /** SMTP密码 */
  SMTP_PASS?: string
  /** AWS区域 */
  AWS_REGION?: string
  /** AWS访问密钥ID */
  AWS_ACCESS_KEY_ID?: string
  /** AWS私有访问密钥 */
  AWS_SECRET_ACCESS_KEY?: string
  /** S3存储桶名称 */
  S3_BUCKET_NAME?: string
  /** 应用全局配置对象 */
  APP_CONFIG?: Record<string, unknown>
  /** 实验性功能开关 */
  EXPERIMENTAL_FEATURES?: Record<string, unknown>
}

/**
 * Zod schema for comprehensive_test_workspace validation
 * Uses selective imports for optimal tree-shaking
 */
export const comprehensiveTestWorkspaceSchema = z.object({
  WORKSPACE_NAME: z.string().default('comprehensive_test_workspace'),
  WORKSPACE_VERSION: z.string().default('1.0.0').optional(),
  NODE_ENV: z.string().default('development'),
  SERVER_HOST: z.string().default('localhost').optional(),
  SERVER_PORT: z.string().transform(Number).default(3000).optional(),
  DATABASE_URL: z.string().default('postgresql://localhost:5432/safenv_test'),
  DATABASE_POOL_MIN: z.string().transform(Number).default(2).optional(),
  DATABASE_POOL_MAX: z.string().transform(Number).default(20).optional(),
  REDIS_URL: z.string().default('redis://localhost:6379/0').optional(),
  CACHE_DEFAULT_TTL: z.string().transform(Number).default(3600).optional(),
  API_BASE_URL: z.string().default('https://api.example.com/v1').optional(),
  API_KEY: z.string().default('test-api-key-replace-in-production'),
  API_TIMEOUT: z.string().transform(Number).default(10000).optional(),
  API_RETRY_COUNT: z.string().transform(Number).default(3).optional(),
  JWT_SECRET: z.string().default('super-secret-jwt-key-change-in-production'),
  JWT_EXPIRES_IN: z.string().default('24h').optional(),
  BCRYPT_ROUNDS: z.string().transform(Number).default(12).optional(),
  ENABLE_LOGGING: z
    .string()
    .transform(val => val === 'true')
    .default(true)
    .optional(),
  ENABLE_METRICS: z
    .string()
    .transform(val => val === 'true')
    .default(false)
    .optional(),
  ENABLE_TRACING: z
    .string()
    .transform(val => val === 'true')
    .default(false)
    .optional(),
  DEBUG_MODE: z
    .string()
    .transform(val => val === 'true')
    .default(false)
    .optional(),
  FEATURE_FLAGS: z
    .string()
    .transform(val => val.split(',').map(s => s.trim()))
    .default(['basic_auth', 'rate_limiting'])
    .optional(),
  LOG_LEVEL: z.string().default('info').optional(),
  LOG_FORMAT: z.string().default('json').optional(),
  LOG_MAX_FILES: z.string().transform(Number).default(10).optional(),
  METRICS_PORT: z.string().transform(Number).default(9090).optional(),
  HEALTH_CHECK_PATH: z.string().default('/health').optional(),
  CORS_ORIGINS: z
    .string()
    .transform(val => val.split(',').map(s => s.trim()))
    .default(['http://localhost:3000', 'http://localhost:3001'])
    .optional(),
  CORS_METHODS: z
    .string()
    .transform(val => val.split(',').map(s => s.trim()))
    .default(['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'])
    .optional(),
  RATE_LIMIT_WINDOW: z.string().transform(Number).default(900000).optional(),
  RATE_LIMIT_MAX: z.string().transform(Number).default(100).optional(),
  UPLOAD_MAX_SIZE: z.string().transform(Number).default(52428800).optional(),
  UPLOAD_ALLOWED_TYPES: z
    .string()
    .transform(val => val.split(',').map(s => s.trim()))
    .default(['image/jpeg', 'image/png', 'application/pdf'])
    .optional(),
  SMTP_HOST: z.string().default('smtp.example.com').optional(),
  SMTP_PORT: z.string().transform(Number).default(587).optional(),
  SMTP_USER: z.string().default('no-reply@example.com').optional(),
  SMTP_PASS: z.string().default('smtp-password').optional(),
  AWS_REGION: z.string().default('us-east-1').optional(),
  AWS_ACCESS_KEY_ID: z.string().default('AKIA...').optional(),
  AWS_SECRET_ACCESS_KEY: z.string().default('secret-key').optional(),
  S3_BUCKET_NAME: z.string().default('safenv-test-bucket').optional(),
  APP_CONFIG: z
    .string()
    .transform(val => JSON.parse(val))
    .default({
      theme: 'light',
      language: 'zh-CN',
      timezone: 'Asia/Shanghai',
      currency: 'CNY',
      dateFormat: 'YYYY-MM-DD',
      timeFormat: 'HH:mm:ss',
    })
    .optional(),
  EXPERIMENTAL_FEATURES: z
    .string()
    .transform(val => JSON.parse(val))
    .default({ newUI: false, enhancedSecurity: true, betaAPI: false })
    .optional(),
})

/**
 * Load configuration from TOML file
 */
const tomlFile = resolve(
  import.meta.dirname,
  'comprehensive_test_workspace.safenv.toml'
)
let tomlData = {}

if (existsSync(tomlFile)) {
  const tomlContent = readFileSync(tomlFile, 'utf-8')
  tomlData = tomlParse(tomlContent)
}

export const tomlConfig = comprehensiveTestWorkspaceSchema.parse(tomlData)
